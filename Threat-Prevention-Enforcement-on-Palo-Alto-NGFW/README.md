![Topology](topology.png)

![Validation](validation-1.png)

![Validation](validation-2.png)

# Lab â€“ Threat Prevention Enforcement On Palo Alto NGFW

## Overview
This lab demonstrates how a Palo Alto Networks next-generation firewall enforces Threat Prevention controls by blocking malware and spyware during permitted outbound traffic. The focus is on inspection applied at the security policy layer and the resulting enforcement behavior.

This lab is documented as a validated engineering case note rather than a configuration walkthrough.

## Lab Objectives
- Confirm that Threat Prevention controls are enforced on allowed outbound traffic
- Verify that malware delivery attempts are blocked inline
- Observe user-visible enforcement behavior generated by Threat Prevention
- Confirm that security outcomes are achieved through policy-based inspection

## Topology Summary
The topology consists of a Palo Alto Networks NGFW enforcing security policy between a trusted internal zone and an untrusted external zone representing the internet. An internal user system initiates outbound web traffic that traverses the firewall, where Threat Prevention controls are applied prior to egress.

## Configuration Summary
- Security policy permitting outbound traffic from the Inside zone to the Outside zone
- Threat Prevention profiles applied at the security policy layer
- Inline inspection enforced on permitted traffic crossing the trust boundary

(Configuration details intentionally omitted; focus is on behavior and validation.)

## Validation and Results

### Behavior Without the Control
Without Threat Prevention enforcement, outbound traffic is permitted based solely on security policy, allowing file downloads to complete without inspection or intervention.

### Behavior With the Control
With Threat Prevention controls applied, the firewall inspects outbound traffic inline and actively blocks malicious content. Download attempts are interrupted, and the user is presented with a Palo Alto Virus/Spyware block response indicating enforcement by policy.

## Key Takeaways
- Threat Prevention operates inline on permitted traffic rather than relying on deny rules
- Malware prevention is enforced at the security policy layer
- User-visible block responses provide clear evidence of active enforcement

## Lab Environment
- Palo Alto Networks NGFW (VM-Series)
- Cisco routing and switching infrastructure
- EVE-NG virtual lab platform

## Status
Validated and complete.
